<div class="page-header">
    <h2>Sửa nhân viên: {{user.full_name}}</h2>
    <a href="/users" class="btn btn-secondary">Quay lại</a>
</div>

<div class="form-container">
    <div class="card">
        <form action="/users/{{user.id}}?_method=PUT" method="POST">
            <div class="row">
                <div class="col-6">
                    <div class="form-group">
                        <label class="form-label">Họ và tên</label>
                        <input type="text" name="full_name" class="form-control" value="{{user.full_name}}" required>
                    </div>
                </div>
                <div class="col-6">
                    <div class="form-group">
                        <label class="form-label">Số điện thoại</label>
                        <input type="text" name="phone" class="form-control" value="{{user.phone}}" required>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <div class="form-group">
                        <label class="form-label">Ngày sinh</label>
                        <input type="date" name="dob" class="form-control" value="{{user.dob}}">
                    </div>
                </div>
                <div class="col-6">
                    <div class="form-group">
                        <label class="form-label">Lương cứng</label>
                        <input type="text" name="default_salary" class="form-control currency-input"
                            value="{{formatCurrency user.default_salary}}" required>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Mật khẩu (Để trống nếu không đổi)</label>
                <input type="text" name="password" class="form-control" placeholder="Nhập mật khẩu mới">
            </div>

            <button type="submit" class="btn btn-primary">Cập nhật thông tin</button>
        </form>
    </div>
</div>

<style>
    .form-container {
        max-width: 800px;
        margin: 0 auto;
    }

    .card {
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .row {
        display: flex;
        gap: 20px;
    }

    .col-6 {
        flex: 6;
    }

    .btn-secondary {
        background-color: var(--secondary-color);
        color: white;
        text-decoration: none;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Auto-format currency input
        const currencyInput = document.querySelector('.currency-input');
        if (currencyInput) {
            currencyInput.addEventListener('input', function (e) {
                const rawValue = e.target.value.replace(/\D/g, '');
                if (rawValue) {
                    e.target.value = new Intl.NumberFormat('vi-VN').format(rawValue);
                }
            });
        }
    });
</script>